/* 
* ExamenFinance - CSS pour la gestion des prêts clients
* Design moderne et ergonomique avec thème vert kaki
*/

/* -------------- VARIABLES -------------- */
:root {
/* Palette de couleurs principale - thème vert kaki */
--primary-color: #7d8471;      /* Vert kaki principal */
--secondary-color: #9ca986;    /* Vert kaki clair */
--accent-color: #5a6b47;       /* Vert kaki foncé */
--background-color: #f8f9f7;   /* Blanc cassé */
--white: #ffffff;
--text-dark: #2c3e2d;
--border-color: #d4d9d0;
--shadow-light: 0 2px 8px rgba(125, 132, 113, 0.1);

/* Couleurs d'accentuation avec thème vert */
--accent-blue-light: #e8f2f0;  /* Vert très pâle pour types de prêt */
--accent-orange-light: #f0f5e8; /* Vert pâle pour période/durée */
--accent-green-light: #e8f5e9;  /* Vert pâle pour comptes */
--accent-money-light: #f0f8f0;  /* Vert très pâle pour montant */

/* Espacement agrandi */
--space-xs: 0.5rem;
--space-sm: 0.75rem;
--space-md: 1.25rem;
--space-lg: 2rem;
--space-xl: 3rem;

/* Bordures et ombres */
--border-radius-sm: 8px;
--border-radius-md: 12px;
--box-shadow-sm: 0 2px 8px rgba(125, 132, 113, 0.1);
--box-shadow-md: 0 4px 12px rgba(125, 132, 113, 0.15);
}

/* -------------- RESET ET BASE -------------- */
* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
background-color: var(--background-color);
color: var(--text-dark);
line-height: 1.6;
}

/* -------------- LAYOUT PRINCIPAL -------------- */
.gestion-pret-layout {
display: flex;
gap: var(--space-xl);
padding: var(--space-lg);
max-width: 1600px; /* Agrandi pour mieux remplir l'écran */
margin: 0 auto;
min-height: 100vh;
}

/* Colonnes principales - ajustées */
.col-gauche, .col-droite {
min-width: 0;
}

.col-gauche {
flex: 1.8;
min-width: 480px;
}

.col-droite {
flex: 1;
min-width: 350px;
}

/* Zones de contenu - agrandies */
.content-zone {
background-color: var(--white);
border-radius: var(--border-radius-md);
box-shadow: var(--shadow-light);
padding: var(--space-xl); /* Padding agrandi */
margin-bottom: var(--space-lg);
border: 1px solid var(--border-color);
width: 1000px;
max-width: 100%;
margin-left: auto;
margin-right: auto;
}

/* Titres des sections - agrandis */
.gestion-pret-layout h2 {
color: var(--accent-color);
font-size: 1.8rem; /* Agrandi */
margin-bottom: var(--space-lg);
padding-bottom: var(--space-sm);
border-bottom: 2px solid var(--secondary-color);
font-weight: 600;
}

/* -------------- FORMULAIRES -------------- */
.form-group {
margin-bottom: var(--space-md); /* Espace réduit entre les groupes de champs */
}

.form-group label {
display: block;
margin-bottom: var(--space-sm);
font-weight: 500;
color: var(--text-dark);
font-size: 1rem; /* Agrandi */
}

.form-group input, 
.form-group select {
width: 100%;
padding: 1rem 1.25rem; /* Agrandi */
font-size: 1rem; /* Agrandi */
border: 2px solid var(--border-color); /* Bordure plus épaisse */
border-radius: var(--border-radius-sm);
background-color: var(--white);
color: var(--text-dark);
transition: border-color 0.2s, box-shadow 0.2s;
}

.form-group input:focus, 
.form-group select:focus {
border-color: var(--primary-color);
outline: none;
box-shadow: 0 0 0 3px rgba(125, 132, 113, 0.1);
}

/* Sections colorées dans le formulaire - thème vert kaki */
.form-group.bg-blue {
background: var(--accent-blue-light);
padding: var(--space-lg); /* Agrandi */
border-radius: var(--border-radius-md);
margin-bottom: var(--space-lg);
border-left: 4px solid var(--primary-color);
}

.form-group.bg-loan-type {
background: var(--accent-blue-light);
padding: var(--space-lg);
border-radius: var(--border-radius-md);
margin-bottom: var(--space-lg);
border-left: 4px solid var(--accent-color);
}

.form-group.bg-period {
background: var(--accent-orange-light);
padding: var(--space-lg);
border-radius: var(--border-radius-md);
margin-bottom: var(--space-lg);
border-left: 4px solid var(--secondary-color);
}

.form-group.bg-green {
background: var(--accent-green-light);
padding: var(--space-lg);
border-radius: var(--border-radius-md);
margin-bottom: var(--space-lg);
border-left: 4px solid var(--primary-color);
}

.form-group.bg-account {
background: var(--accent-green-light);
padding: var(--space-lg);
border-radius: var(--border-radius-md);
margin-bottom: var(--space-lg);
border-left: 4px solid var(--accent-color);
}

.form-group.bg-money {
background: #f5f5f5;
padding: var(--space-lg);
border-radius: var(--border-radius-md);
margin-bottom: var(--space-lg);
}

/* Disposition en ligne - agrandie */
.form-row {
display: flex;
gap: var(--space-lg); /* Agrandi */
margin-bottom: var(--space-lg);
align-items: stretch;
}

.form-row .form-group {
flex: 1;
margin-bottom: 0;
display: flex;
flex-direction: column;
justify-content: space-between;
}

/* S'assurer que les inputs dans form-row prennent toute la hauteur disponible */
.form-row .form-group input,
.form-row .form-group select {
flex: 1;
min-height: 3.5rem; /* Hauteur agrandie */
padding: 1rem 1.25rem;
font-size: 1rem;
}

/* Labels dans form-row avec espacement uniforme */
.form-row .form-group label {
margin-bottom: var(--space-sm);
font-size: 1rem;
font-weight: 600;
color: var(--text-dark);
white-space: nowrap;
min-height: 1.5rem; /* Hauteur agrandie */
}

/* -------------- BOUTONS -------------- */
button {
padding: 0.8rem 1.5rem;
border: none;
border-radius: var(--border-radius-sm);
font-weight: 600;
cursor: pointer;
font-size: 0.95rem;
background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
color: white;
box-shadow: var(--shadow-light);
transition: all 0.2s ease;
white-space: nowrap;
}

button:hover {
background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
transform: translateY(-1px);
box-shadow: var(--box-shadow-md);
}

/* Bouton submit du formulaire d'ajout */
#btn-ajouter-pret {
width: 100%;
margin-top: var(--space-lg);
padding: 1rem;
font-size: 1rem;
}

.filtre-actions {
display: flex;
gap: var(--space-sm);
margin-top: var(--space-lg);
}

.filtre-actions button {
flex: 1;
padding: 0.8rem 1.2rem;
}

/* -------------- TRI -------------- */
.tri-container {
background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
color: white;
padding: var(--space-md);
border-radius: var(--border-radius-sm);
margin: var(--space-lg) 0;
display: flex;
align-items: center;
gap: var(--space-md);
box-shadow: var(--shadow-light);
font-weight: 600;
flex-wrap: nowrap;
min-height: 60px;
}

.tri-container span {
font-weight: 600;
color: white;
font-size: 1rem;
white-space: nowrap;
flex-shrink: 0;
}

/* Tri buttons */
.tri-buttons {
display: flex;
gap: var(--space-xs);
flex-shrink: 0;
}

.btn-tri {
padding: 0.6rem 1.2rem;
background: rgba(255, 255, 255, 0.2);
color: white;
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: var(--border-radius-sm);
font-weight: 600;
font-size: 0.9rem;
transition: all 0.2s ease;
white-space: nowrap;
min-width: 80px;
text-align: center;
}

.btn-tri:hover {
background: rgba(255, 255, 255, 0.3);
border-color: rgba(255, 255, 255, 0.5);
}

.btn-tri.active {
background: var(--accent-color);
border-color: var(--accent-color);
box-shadow: inset 0 2px 3px rgba(0,0,0,0.2);
}

.tri-direction-group {
margin-left: auto;
display: flex;
align-items: center;
gap: var(--space-sm);
flex-shrink: 0;
}

.tri-direction-group label {
font-weight: 600;
color: white;
margin-bottom: 0;
font-size: 0.95rem;
white-space: nowrap;
}

.tri-direction-group select {
padding: 0.6rem 0.8rem;
border-radius: var(--border-radius-sm);
border: 1px solid var(--border-color);
background-color: var(--white);
color: var(--text-dark);
font-weight: 500;
min-width: 120px;
font-size: 0.9rem;
cursor: pointer;
transition: border-color 0.2s, box-shadow 0.2s;
}

.tri-direction-group select:focus {
border-color: var(--primary-color);
outline: none;
box-shadow: 0 0 0 2px rgba(125, 132, 113, 0.1);
}

/* -------------- TABLEAUX -------------- */
.table-container {
overflow: hidden; /* Suppression du scroll horizontal */
margin-top: var(--space-lg);
background: var(--white);
border-radius: var(--border-radius-md);
box-shadow: var(--shadow-light);
border: 1px solid var(--border-color);
width: 100%;
}

table {
width: 100%;
min-width: auto; /* Suppression de la largeur minimum */
border-collapse: collapse;
font-size: 0.9rem;
table-layout: fixed; /* Force les colonnes à rester dans la largeur du conteneur */
}

table th {
background: linear-gradient(135deg, #7d8471, #5a6b47); /* Couleurs kaki pour les en-têtes */
color: white;
text-align: left;
padding: 1rem 0.8rem;
font-weight: 600;
font-size: 0.9rem;
border-bottom: 2px solid #5a6b47;
word-wrap: break-word;
overflow-wrap: break-word;
}

table td {
padding: 0.9rem 0.8rem;
border-bottom: 1px solid var(--border-color);
font-size: 0.85rem;
vertical-align: middle;
word-wrap: break-word;
overflow-wrap: break-word;
hyphens: auto;
overflow: hidden;
text-overflow: ellipsis;
}

/* Largeurs égales pour toutes les colonnes - sans scroll */
table th, table td { 
width: 16.66%; /* 100% / 6 colonnes = 16.66% chacune */
max-width: 0; /* Force le respect de la largeur fixe */
}

table tbody tr:nth-child(even) {
background-color: rgba(125, 132, 113, 0.03);
}

table tbody tr:hover {
background-color: rgba(125, 132, 113, 0.08);
transition: background-color 0.2s ease;
}

/* Styles pour les noms dans le tableau */
.type-name, .compte-name {
font-weight: 500;
color: var(--accent-color);
display: block;
}

.type-details, .compte-details-table {
font-size: 0.7rem;
color: #666;
opacity: 0.8;
display: block;
margin-top: 2px;
}

/* Style pour les montants */
.montant-cell {
font-weight: 600;
color: var(--accent-color);
text-align: right;
}

/* Style pour les dates */
.date-cell {
font-size: 0.8rem;
color: var(--text-dark);
}

/* Style pour les boutons d'action */
.btn-fiche {
background: var(--primary-color);
color: white;
border: none;
padding: 0.4rem 0.8rem;
border-radius: 4px;
font-size: 0.75rem;
cursor: pointer;
transition: background-color 0.2s ease;
white-space: nowrap;
}

.btn-fiche:hover {
background: var(--accent-color);
}

/* Hover enlevé du tableau */

/* Types de prêt et comptes - style vertical simple */
.types-pret-container, .comptes-container {
display: flex;
flex-direction: column;
gap: var(--space-xs);
margin-top: var(--space-sm);
}

.type-pret-option, .compte-option {
background-color: var(--white);
border: 1px solid var(--border-color);
border-radius: var(--border-radius-sm);
padding: var(--space-sm) var(--space-md);
box-shadow: none;
transition: all 0.2s ease;
cursor: pointer;
position: relative;
}

.type-pret-option:hover, .compte-option:hover {
border-color: var(--primary-color);
background-color: var(--accent-blue-light);
}

/* Cacher les inputs radio mais garder l'accessibilité */
.type-pret-option input[type="radio"],
.compte-option input[type="radio"] {
position: absolute;
opacity: 0;
width: 100%;
height: 100%;
margin: 0;
cursor: pointer;
}

/* Styles pour les labels - alignement horizontal */
.type-pret-label, .compte-label {
display: flex;
align-items: center;
justify-content: space-between;
cursor: pointer;
width: 100%;
pointer-events: none;
}

/* Style pour les en-têtes des options - inline */
.type-pret-header, .compte-header {
font-size: 0.95rem;
color: var(--accent-color);
font-weight: 600;
margin: 0;
padding: 0;
border: none;
}

/* Style pour les détails des options - inline */
.type-pret-details, .compte-details {
font-size: 0.8rem;
color: var(--text-dark);
opacity: 0.8;
margin-left: var(--space-sm);
}

/* Style pour les options sélectionnées - simple coloration */
.type-pret-option:has(input[type="radio"]:checked),
.compte-option:has(input[type="radio"]:checked) {
background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
border-color: var(--primary-color);
color: white;
}

.type-pret-option:has(input[type="radio"]:checked) .type-pret-header,
.compte-option:has(input[type="radio"]:checked) .compte-header {
color: white;
}

.type-pret-option:has(input[type="radio"]:checked) .type-pret-details,
.compte-option:has(input[type="radio"]:checked) .compte-details {
color: rgba(255, 255, 255, 0.9);
}

/* Indicateur visuel simple pour option sélectionnée */
.type-pret-option:has(input[type="radio"]:checked)::after,
.compte-option:has(input[type="radio"]:checked)::after {
content: '✓';
position: absolute;
top: 50%;
right: var(--space-sm);
transform: translateY(-50%);
color: white;
font-size: 1rem;
font-weight: bold;
}

/* -------------- CONTENEURS SCROLLABLES -------------- */
/* Conteneurs principaux avec hauteur fixe et scroll - ajustés */
.types-pret-container, .comptes-container {
max-height: 250px;
overflow-y: auto;
border: 1px solid var(--border-color);
border-radius: var(--border-radius-sm);
background-color: var(--white);
padding: var(--space-sm);

/* Style de la scrollbar pour WebKit */
scrollbar-width: thin;
scrollbar-color: var(--primary-color) var(--background-color);
overflow-x: hidden;
}

/* Scrollbar WebKit personnalisée - thème vert kaki */
.types-pret-container::-webkit-scrollbar,
.comptes-container::-webkit-scrollbar {
width: 10px; /* Agrandi */
}

.types-pret-container::-webkit-scrollbar-track,
.comptes-container::-webkit-scrollbar-track {
background: var(--background-color);
border-radius: var(--border-radius-sm);
}

.types-pret-container::-webkit-scrollbar-thumb,
.comptes-container::-webkit-scrollbar-thumb {
background: var(--primary-color);
border-radius: var(--border-radius-sm);
border: 1px solid var(--border-color);
}

.types-pret-container::-webkit-scrollbar-thumb:hover,
.comptes-container::-webkit-scrollbar-thumb:hover {
background: var(--accent-color);
}

/* Indicateur de scroll visible */
.types-pret-container::before,
.comptes-container::before {
content: '';
position: sticky;
top: 0;
left: 0;
right: 0;
height: 2px;
background: linear-gradient(to bottom, rgba(125, 132, 113, 0.1), transparent);
z-index: 1;
margin-bottom: var(--space-sm);
}

/* Shadow gradient au bas pour indiquer plus de contenu */
.types-pret-container::after,
.comptes-container::after {
content: '';
position: sticky;
bottom: 0;
left: 0;
right: 0;
height: 10px;
background: linear-gradient(to top, rgba(255, 255, 255, 0.8), transparent);
pointer-events: none;
z-index: 1;
margin-top: calc(-10px - var(--space-sm));
}

/* Ajustements pour les options dans les conteneurs scrollables */
.types-pret-container .type-pret-option,
.comptes-container .compte-option {
margin-bottom: 0;
border-radius: var(--border-radius-sm);
transition: all 0.2s ease;
}

.types-pret-container .type-pret-option:last-child,
.comptes-container .compte-option:last-child {
margin-bottom: 0;
}

/* Focus et hover dans les conteneurs scrollables */
.types-pret-container .type-pret-option:focus-within,
.comptes-container .compte-option:focus-within {
outline: 2px solid var(--primary-color);
outline-offset: 2px;
}

/* Amélioration de l'accessibilité - navigation au clavier */
.types-pret-container:focus-within,
.comptes-container:focus-within {
border-color: var(--primary-color);
box-shadow: 0 0 0 3px rgba(125, 132, 113, 0.1);
}

/* Message d'état pour les conteneurs vides */
.types-pret-container:empty::before,
.comptes-container:empty::before {
content: 'Chargement...';
display: block;
text-align: center;
color: var(--primary-color);
font-style: italic;
padding: var(--space-lg); /* Réduits */
font-size: 1rem; /* Réduits */
}

/* Conteneur pour la fiche de prêt supprimé pour plus d'espace */

/* -------------- RESPONSIVE -------------- */
@media (max-width: 1200px) {
.gestion-pret-layout {
    flex-direction: column;
    max-width: 100%;
    padding: var(--space-md);
}

.col-gauche, .col-droite {
    flex: none;
    width: 100%;
    min-width: 0;
}

.form-row {
    flex-direction: column;
    gap: var(--space-md);
}

.form-row .form-group {
    width: 100%;
}

.tri-container {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-md);
}

.tri-direction-group {
    margin-left: 0;
    margin-top: 0;
    width: 100%;
}
}

@media (max-width: 768px) {
.gestion-pret-layout {
    padding: var(--space-md);
    gap: var(--space-lg);
}

.content-zone {
    padding: var(--space-lg);
}

.types-pret-container, .comptes-container {
    max-height: 250px;
    grid-template-columns: 1fr;
}

.tri-buttons {
    width: 100%;
    justify-content: space-between;
}

.btn-tri {
    flex: 1;
    min-width: 80px;
}

/* Tableau responsive - sans scroll */
.table-container {
    width:110%;
    overflow: hidden; /* Suppression du scroll sur mobile aussi */
}

table {
    min-width: 110%; /* Suppression de la largeur minimum sur mobile */
}

table th,
table td {
    padding: 0.7rem 0.5rem;
    font-size: 0.8rem;
}

/* Colonnes égales sur mobile aussi */
table th, table td { 
    width: 16.66%; /* Garde les colonnes égales sur mobile pour 6 colonnes */
}

.type-details, .compte-details-table {
    font-size: 0.65rem;
}

.btn-fiche {
    padding: 0.3rem 0.6rem;
    font-size: 0.7rem;
}
}

@media (max-width: 480px) {
.gestion-pret-layout {
    padding: var(--space-sm);
}

.content-zone {
    padding: var(--space-md);
}

.gestion-pret-layout h2 {
    font-size: 1.4rem;
}

.types-pret-container, .comptes-container {
    max-height: 200px;
    font-size: 0.9rem;
}

.type-pret-option, .compte-option {
    padding: var(--space-md);
}

.form-group input, 
.form-group select {
    padding: 0.85rem 1rem;
    font-size: 0.95rem;
}

button {
    padding: 0.85rem 1.5rem;
    font-size: 0.95rem;
}

.tri-container {
    padding: var(--space-md);
}

.tri-buttons {
    flex-direction: column;
    width: 100%;
}

.btn-tri {
    width: 100%;
    margin-bottom: var(--space-xs);
}
}

/* -------------- SCROLLBARS GLOBALES -------------- */
/* Scrollbar pour Firefox sur le tableau */
.table-container {
scrollbar-width: thin;
scrollbar-color: var(--primary-color) var(--background-color);
}

/* -------------- ANIMATIONS ET ÉTATS -------------- */
.fade-in {
animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
from {
    opacity: 0;
    transform: translateY(-10px);
}
to {
    opacity: 1;
    transform: translateY(0);
}
}

.loading {
opacity: 0.6;
pointer-events: none;
position: relative;
}

.loading::after {
content: '';
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 40px;
height: 40px;
border: 3px solid var(--border-color);
border-top: 3px solid var(--primary-color);
border-radius: 50%;
animation: spin 1s linear infinite;
}

@keyframes spin {
0% { transform: translate(-50%, -50%) rotate(0deg); }
100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Messages d'erreur et de succès */
.error-message {
background: linear-gradient(135deg, #ffebee, #ffcdd2);
color: #c62828;
padding: var(--space-lg);
border-radius: var(--border-radius-sm);
border-left: 4px solid #f44336;
margin: var(--space-lg) 0;
display: none;
font-weight: 500;
}

.error-message.show {
display: block;
animation: fadeIn 0.3s ease-in-out;
}

.success-message {
background: linear-gradient(135deg, var(--accent-green-light), var(--secondary-color));
color: var(--accent-color);
padding: var(--space-lg);
border-radius: var(--border-radius-sm);
border-left: 4px solid var(--primary-color);
margin: var(--space-lg) 0;
display: none;
font-weight: 500;
}

.success-message.show {
display: block;
animation: fadeIn 0.3s ease-in-out;
}

/* -------------- FICHE FLOTTANTE -------------- */
/* Overlay pour la fiche flottante */
.fiche-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.6);
backdrop-filter: blur(5px);
z-index: 1000;
display: flex;
align-items: center;
justify-content: center;
padding: var(--space-lg);
opacity: 0;
visibility: hidden;
transition: all 0.3s ease;
}

.fiche-visible .fiche-overlay {
opacity: 1;
visibility: visible;
}

/* Modal de la fiche */
.fiche-modal {
background: var(--white);
border-radius: var(--border-radius-md);
box-shadow: var(--box-shadow-md);
max-width: 900px;
width: 100%;
max-height: 80vh;
overflow: hidden;
transform: scale(0.9) translateY(-50px);
transition: transform 0.3s ease;
}

.fiche-visible .fiche-modal {
transform: scale(1) translateY(0);
}

/* En-tête de la fiche */
.fiche-header {
background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
color: white;
padding: var(--space-lg);
display: flex;
justify-content: space-between;
align-items: center;
}

/* -------------- MODALE COMPARAISON -------------- */
/* Variables spécifiques à la comparaison */
.fiche-modal.comparaison {
  --comparaison-max-width: 1400px;
  --comparaison-header-height: 80px;
  --comparaison-gap: 2.5rem;
  --comparaison-border-radius: 16px;
  --comparaison-shadow: 0 20px 60px rgba(125, 132, 113, 0.15);
}

/* Structure principale de la modale de comparaison */
.fiche-modal.comparaison {
  display: flex;
  flex-direction: column;
  max-width: var(--comparaison-max-width);
  width: 95vw;
  max-height: 95vh;
  background: var(--white);
  border-radius: var(--comparaison-border-radius);
  box-shadow: var(--comparaison-shadow);
  overflow: hidden;
  position: relative;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(125, 132, 113, 0.1);
}

/* En-tête moderne de la comparaison */
.fiche-modal.comparaison .fiche-header {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
  color: white;
  padding: var(--space-lg) var(--space-xl);
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: var(--comparaison-header-height);
  position: sticky;
  top: 0;
  z-index: 10;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

.fiche-modal.comparaison .fiche-header h3 {
  font-size: 1.75rem;
  font-weight: 700;
  margin: 0;
  letter-spacing: -0.02em;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.fiche-modal.comparaison .btn-fermer-fiche {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.fiche-modal.comparaison .btn-fermer-fiche:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.3);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Conteneur principal des colonnes */
.fiche-content-comparaison {
  display: flex;
  gap: var(--comparaison-gap);
  padding: var(--space-xl);
  background: linear-gradient(135deg, #fafbfa 0%, var(--background-color) 100%);
  flex: 1;
  min-height: 0;
  overflow: hidden;
  position: relative;
}

/* Séparateur visuel entre les colonnes */
.fiche-content-comparaison::before {
  content: '';
  position: absolute;
  left: 50%;
  top: var(--space-lg);
  bottom: var(--space-lg);
  width: 2px;
  background: linear-gradient(to bottom, 
    transparent 0%, 
    var(--secondary-color) 20%, 
    var(--primary-color) 50%, 
    var(--secondary-color) 80%, 
    transparent 100%);
  transform: translateX(-50%);
  z-index: 1;
  border-radius: 1px;
}

/* Colonnes de comparaison */
.fiche-col {
  flex: 1;
  background: var(--white);
  border-radius: var(--border-radius-md);
  box-shadow: 0 8px 32px rgba(125, 132, 113, 0.08);
  border: 1px solid rgba(125, 132, 113, 0.1);
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: column;
  transition: all 0.3s ease;
}

.fiche-col:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(125, 132, 113, 0.12);
}

/* En-tête de chaque colonne */
.fiche-col::before {
  content: attr(data-title);
  display: block;
  background: linear-gradient(135deg, var(--accent-blue-light) 0%, #f0f4f3 100%);
  padding: var(--space-md) var(--space-lg);
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--accent-color);
  border-bottom: 1px solid var(--border-color);
  text-align: center;
  letter-spacing: -0.01em;
}

/* Contenu scrollable de chaque colonne */
.fiche-col-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: var(--space-lg);
  scrollbar-width: thin;
  scrollbar-color: var(--primary-color) transparent;
}

.fiche-col-content::-webkit-scrollbar {
  width: 6px;
}

.fiche-col-content::-webkit-scrollbar-track {
  background: transparent;
}

.fiche-col-content::-webkit-scrollbar-thumb {
  background: var(--primary-color);
  border-radius: 3px;
}

.fiche-col-content::-webkit-scrollbar-thumb:hover {
  background: var(--accent-color);
}

/* Section informations du prêt - Design ultra-moderne */
.fiche-col .fiche-info {
  margin-bottom: var(--space-xl);
  display: grid;
  gap: var(--space-lg);
  background: linear-gradient(145deg, #ffffff 0%, #fafbfc 30%, #f8f9fa 100%);
  border-radius: var(--border-radius-lg);
  padding: var(--space-xl);
  box-shadow: 
    0 8px 32px rgba(125, 132, 113, 0.08),
    0 2px 16px rgba(125, 132, 113, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(125, 132, 113, 0.06);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
  animation: fadeInUp 0.6s ease-out;
}

.fiche-col .fiche-info::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(135deg, 
    var(--primary-color) 0%, 
    var(--secondary-color) 25%, 
    var(--accent-color) 50%, 
    var(--secondary-color) 75%, 
    var(--primary-color) 100%);
  background-size: 200% 100%;
  animation: gradientShift 3s ease-in-out infinite;
  border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
}

.fiche-col .fiche-info::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at 20% 20%, rgba(125, 132, 113, 0.02) 0%, transparent 50%);
  pointer-events: none;
  z-index: 1;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gradientShift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.fiche-col .info-row {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-lg);
  align-items: center;
  padding: var(--space-lg) var(--space-xl);
  background: linear-gradient(135deg, #ffffff 0%, #fdfdfd 100%);
  border-radius: var(--border-radius-lg);
  border: 1px solid rgba(125, 132, 113, 0.05);
  box-shadow: 
    0 4px 16px rgba(125, 132, 113, 0.04),
    0 1px 4px rgba(125, 132, 113, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  position: relative;
  overflow: hidden;
  z-index: 2;
  cursor: pointer;
  animation: slideInRight 0.5s ease-out;
  animation-fill-mode: backwards;
}

.fiche-col .info-row:nth-child(1) { animation-delay: 0.1s; }
.fiche-col .info-row:nth-child(2) { animation-delay: 0.2s; }
.fiche-col .info-row:nth-child(3) { animation-delay: 0.3s; }
.fiche-col .info-row:nth-child(4) { animation-delay: 0.4s; }
.fiche-col .info-row:nth-child(5) { animation-delay: 0.5s; }

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.fiche-col .info-row::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 6px;
  height: 100%;
  background: linear-gradient(to bottom, 
    var(--primary-color) 0%, 
    var(--secondary-color) 50%, 
    var(--accent-color) 100%);
  transform: scaleY(0) translateX(-6px);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transform-origin: bottom;
  border-radius: 0 4px 4px 0;
}

.fiche-col .info-row::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(125, 132, 113, 0.02) 0%, 
    rgba(125, 132, 113, 0.00) 50%, 
    rgba(125, 132, 113, 0.01) 100%);
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: var(--border-radius-lg);
}

.fiche-col .info-row:hover::before {
  transform: scaleY(1) translateX(0);
  box-shadow: 2px 0 8px rgba(125, 132, 113, 0.15);
}

.fiche-col .info-row:hover::after {
  opacity: 1;
}

.fiche-col .info-row:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 
    0 12px 32px rgba(125, 132, 113, 0.15),
    0 4px 16px rgba(125, 132, 113, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 1);
  border-color: rgba(125, 132, 113, 0.12);
  background: linear-gradient(135deg, #ffffff 0%, #fafbfc 100%);
  z-index: 3;
}

.fiche-col .info-row:active {
  transform: translateY(0) scale(0.98);
  transition: all 0.1s ease;
}

.fiche-col .info-label {
  font-weight: 700;
  color: var(--accent-color);
  font-size: 0.9rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  opacity: 0.85;
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  transition: all 0.3s ease;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

.fiche-col .info-label::before {
  content: '';
  width: 8px;
  height: 8px;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(125, 132, 113, 0.3);
  transition: all 0.3s ease;
}

.fiche-col .info-label::after {
  content: '';
  flex: 1;
  height: 2px;
  background: linear-gradient(90deg, 
    var(--primary-color) 0%, 
    rgba(125, 132, 113, 0.3) 30%, 
    transparent 100%);
  opacity: 0.4;
  border-radius: 1px;
  transition: all 0.3s ease;
}

.fiche-col .info-row:hover .info-label {
  color: var(--primary-color);
  opacity: 1;
  transform: translateX(2px);
}

.fiche-col .info-row:hover .info-label::before {
  background: linear-gradient(135deg, var(--secondary-color) 0%, var(--accent-color) 100%);
  transform: scale(1.2);
  box-shadow: 0 4px 8px rgba(125, 132, 113, 0.4);
}

.fiche-col .info-row:hover .info-label::after {
  opacity: 0.8;
  background: linear-gradient(90deg, 
    var(--secondary-color) 0%, 
    var(--primary-color) 40%, 
    transparent 100%);
}

.fiche-col .info-value {
  font-weight: 700;
  color: var(--text-dark);
  font-size: 1.15rem;
  text-align: right;
  position: relative;
  z-index: 1;
  font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, 
    var(--accent-color) 0%, 
    var(--primary-color) 50%, 
    var(--secondary-color) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% 100%;
  animation: textGradient 4s ease-in-out infinite;
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--border-radius-md);
  backdrop-filter: blur(2px);
  transition: all 0.3s ease;
  min-width: 120px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--space-xs);
}

.fiche-col .info-value::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(125, 132, 113, 0.03) 0%, 
    rgba(125, 132, 113, 0.01) 50%, 
    rgba(125, 132, 113, 0.02) 100%);
  border-radius: var(--border-radius-md);
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.fiche-col .info-value::after {
  content: '';
  position: absolute;
  top: 2px;
  right: 2px;
  width: 6px;
  height: 6px;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
  border-radius: 50%;
  opacity: 0;
  transition: all 0.3s ease;
}

.fiche-col .info-row:hover .info-value {
  transform: scale(1.05);
  text-shadow: 0 2px 4px rgba(125, 132, 113, 0.1);
}

.fiche-col .info-row:hover .info-value::before {
  opacity: 1;
}

.fiche-col .info-row:hover .info-value::after {
  opacity: 1;
  transform: scale(1.2);
}

@keyframes textGradient {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.fiche-col .montant-principal {
  font-size: 1.8rem;
  font-weight: 900;
  background: linear-gradient(135deg, 
    var(--accent-color) 0%, 
    var(--primary-color) 25%, 
    var(--secondary-color) 50%, 
    var(--accent-color) 75%, 
    var(--primary-color) 100%);
  background-size: 300% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: none;
  position: relative;
  padding: var(--space-md) var(--space-lg);
  border-radius: var(--border-radius-lg);
  backdrop-filter: blur(8px);
  animation: textShine 3s ease-in-out infinite;
  transition: all 0.4s ease;
  font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.02em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 60px;
}

.fiche-col .montant-principal::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(125, 132, 113, 0.08) 0%, 
    rgba(125, 132, 113, 0.02) 50%, 
    rgba(125, 132, 113, 0.06) 100%);
  border-radius: var(--border-radius-lg);
  z-index: -1;
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    0 4px 16px rgba(125, 132, 113, 0.1);
}

.fiche-col .montant-principal::after {
  content: '€';
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 0.7em;
  opacity: 0.7;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.fiche-col .info-row:hover .montant-principal {
  transform: scale(1.05);
  animation-duration: 1s;
}

@keyframes textShine {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Styles spéciaux pour certains types d'informations */
.fiche-col .info-row.info-montant {
  background: linear-gradient(135deg, 
    var(--accent-money-light) 0%, 
    rgba(255, 255, 255, 0.95) 30%, 
    var(--white) 100%);
  border-left: 6px solid var(--primary-color);
  position: relative;
}

.fiche-col .info-row.info-montant::before {
  background: linear-gradient(to bottom, 
    var(--primary-color) 0%, 
    var(--accent-color) 100%);
}

.fiche-col .info-row.info-montant:hover {
  background: linear-gradient(135deg, 
    var(--accent-money-light) 0%, 
    rgba(255, 255, 255, 0.98) 100%);
  box-shadow: 
    0 12px 32px rgba(125, 132, 113, 0.15),
    0 4px 16px rgba(46, 125, 50, 0.1);
}

.fiche-col .info-row.info-taux {
  background: linear-gradient(135deg, 
    var(--accent-orange-light) 0%, 
    rgba(255, 255, 255, 0.95) 30%, 
    var(--white) 100%);
  border-left: 6px solid var(--secondary-color);
}

.fiche-col .info-row.info-taux::before {
  background: linear-gradient(to bottom, 
    var(--secondary-color) 0%, 
    #ff8a65 100%);
}

.fiche-col .info-row.info-taux:hover {
  background: linear-gradient(135deg, 
    var(--accent-orange-light) 0%, 
    rgba(255, 255, 255, 0.98) 100%);
  box-shadow: 
    0 12px 32px rgba(125, 132, 113, 0.15),
    0 4px 16px rgba(255, 138, 101, 0.1);
}

.fiche-col .info-row.info-duree {
  background: linear-gradient(135deg, 
    var(--accent-blue-light) 0%, 
    rgba(255, 255, 255, 0.95) 30%, 
    var(--white) 100%);
  border-left: 6px solid var(--accent-color);
}

.fiche-col .info-row.info-duree::before {
  background: linear-gradient(to bottom, 
    var(--accent-color) 0%, 
    #42a5f5 100%);
}

.fiche-col .info-row.info-duree:hover {
  background: linear-gradient(135deg, 
    var(--accent-blue-light) 0%, 
    rgba(255, 255, 255, 0.98) 100%);
  box-shadow: 
    0 12px 32px rgba(125, 132, 113, 0.15),
    0 4px 16px rgba(66, 165, 245, 0.1);
}

.fiche-col .info-row.info-type {
  background: linear-gradient(135deg, 
    var(--accent-green-light) 0%, 
    rgba(255, 255, 255, 0.95) 30%, 
    var(--white) 100%);
  border-left: 6px solid var(--primary-color);
}

.fiche-col .info-row.info-type::before {
  background: linear-gradient(to bottom, 
    var(--primary-color) 0%, 
    #66bb6a 100%);
}

.fiche-col .info-row.info-type:hover {
  background: linear-gradient(135deg, 
    var(--accent-green-light) 0%, 
    rgba(255, 255, 255, 0.98) 100%);
  box-shadow: 
    0 12px 32px rgba(125, 132, 113, 0.15),
    0 4px 16px rgba(102, 187, 106, 0.1);
}

/* Icônes spécialisées pour chaque type */
.fiche-col .info-row.info-montant .info-label::before {
  background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
  box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
}

.fiche-col .info-row.info-taux .info-label::before {
  background: linear-gradient(135deg, #ff7043 0%, #ff8a65 100%);
  box-shadow: 0 2px 8px rgba(255, 112, 67, 0.4);
}

.fiche-col .info-row.info-duree .info-label::before {
  background: linear-gradient(135deg, #2196f3 0%, #42a5f5 100%);
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.4);
}

.fiche-col .info-row.info-type .info-label::before {
  background: linear-gradient(135deg, #4caf50 0%, #81c784 100%);
  box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
}

/* Section tableau des remboursements */
.fiche-col .fiche-remboursements {
  margin-top: var(--space-lg);
}

.fiche-col .fiche-remboursements h4 {
  color: var(--accent-color);
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-sm);
  border-bottom: 2px solid var(--secondary-color);
  text-align: center;
  letter-spacing: -0.01em;
}

/* Conteneur du tableau */
.fiche-col .table-container-fiche {
  background: var(--white);
  border-radius: var(--border-radius-sm);
  box-shadow: 0 4px 16px rgba(125, 132, 113, 0.08);
  border: 1px solid rgba(125, 132, 113, 0.1);
  overflow: hidden;
  position: relative;
}

/* Tableau moderne */
.fiche-col .table-fiche {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
  background: var(--white);
  position: relative;
}

.fiche-col .table-fiche th {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
  color: white;
  font-weight: 700;
  font-size: 0.85rem;
  padding: 1rem 0.75rem;
  text-align: left;
  border-bottom: 2px solid var(--accent-color);
  position: sticky;
  top: 0;
  z-index: 5;
  letter-spacing: -0.01em;
  text-transform: uppercase;
  font-size: 0.75rem;
}

.fiche-col .table-fiche td {
  padding: 0.9rem 0.75rem;
  border-bottom: 1px solid rgba(125, 132, 113, 0.1);
  font-size: 0.9rem;
  color: var(--text-dark);
  background: var(--white);
  transition: background-color 0.2s ease;
  position: relative;
}

.fiche-col .table-fiche tbody tr:nth-child(even) {
  background: rgba(125, 132, 113, 0.02);
}

.fiche-col .table-fiche tbody tr:hover {
  background: rgba(125, 132, 113, 0.05);
  transform: scale(1.001);
}

.fiche-col .table-fiche .montant,
.fiche-col .table-fiche .mensualite {
  text-align: right;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
  font-weight: 600;
  color: var(--accent-color);
  font-size: 0.9rem;
}

.fiche-col .table-fiche .mensualite {
  background: linear-gradient(135deg, rgba(125, 132, 113, 0.05) 0%, rgba(125, 132, 113, 0.02) 100%);
  font-weight: 700;
}

/* Responsive Design */
@media (max-width: 1200px) {
  .fiche-modal.comparaison {
    width: 98vw;
    max-height: 98vh;
  }
  
  .fiche-content-comparaison {
    gap: var(--space-lg);
    padding: var(--space-lg);
  }
  
  .fiche-modal.comparaison {
    --comparaison-gap: 1.5rem;
  }
}

@media (max-width: 900px) {
  .fiche-content-comparaison {
    flex-direction: column;
    gap: var(--space-lg);
    padding: var(--space-lg);
    overflow-y: auto;
  }
  
  .fiche-content-comparaison::before {
    display: none;
  }
  
  .fiche-col {
    max-height: 60vh;
  }
  
  .fiche-modal.comparaison .fiche-header h3 {
    font-size: 1.5rem;
  }
}

@media (max-width: 600px) {
  .fiche-modal.comparaison {
    width: 100vw;
    height: 100vh;
    max-height: 100vh;
    border-radius: 0;
  }
  
  .fiche-content-comparaison {
    padding: var(--space-md);
    gap: var(--space-md);
  }
  
  .fiche-col-content {
    padding: var(--space-md);
  }
  
  .fiche-col .table-fiche th,
  .fiche-col .table-fiche td {
    padding: 0.6rem 0.4rem;
    font-size: 0.8rem;
  }
  
  /* Styles améliorés pour les infos du prêt en mobile */
  .fiche-col .fiche-info {
    padding: var(--space-md);
    gap: var(--space-md);
  }
  
  .fiche-col .info-row {
    padding: var(--space-md) var(--space-lg);
    grid-template-columns: 1fr;
    gap: var(--space-sm);
    text-align: left;
  }
  
  .fiche-col .info-row:hover {
    transform: translateY(-1px) scale(1.01);
  }
  
  .fiche-col .info-value {
    text-align: left;
    font-size: 1.1rem;
    justify-content: flex-start;
    min-width: auto;
  }
  
  .fiche-col .info-label {
    font-size: 0.8rem;
    margin-bottom: var(--space-xs);
  }
  
  .fiche-col .info-label::after {
    display: none;
  }
  
  .fiche-col .montant-principal {
    font-size: 1.4rem;
    min-height: 50px;
    padding: var(--space-sm) var(--space-md);
  }
  
  .fiche-col .montant-principal::after {
    top: 6px;
    right: 6px;
    font-size: 0.6em;
  }
  
  .fiche-modal.comparaison .fiche-header {
    padding: var(--space-md) var(--space-lg);
  }
  
  .fiche-modal.comparaison .fiche-header h3 {
    font-size: 1.25rem;
  }
  
  .fiche-modal.comparaison .btn-fermer-fiche {
    width: 40px;
    height: 40px;
    font-size: 1.25rem;
  }
}

@media (max-width: 480px) {
  .fiche-col .table-fiche th,
  .fiche-col .table-fiche td {
    padding: 0.5rem 0.25rem;
    font-size: 0.75rem;
  }
  
  .fiche-col .fiche-remboursements h4 {
    font-size: 1rem;
  }
  
  /* Styles ultra-mobiles pour les infos du prêt */
  .fiche-col .fiche-info {
    padding: var(--space-sm);
    gap: var(--space-sm);
  }
  
  .fiche-col .info-row {
    padding: var(--space-sm) var(--space-md);
    border-left-width: 4px;
  }
  
  .fiche-col .info-row::before {
    width: 4px;
  }
  
  .fiche-col .info-label {
    font-size: 0.75rem;
  }
  
  .fiche-col .info-label::before {
    width: 6px;
    height: 6px;
  }
  
  .fiche-col .info-value {
    font-size: 0.9rem;
  }
  
  .fiche-col .montant-principal {
    font-size: 1.2rem;
    min-height: 45px;
    padding: var(--space-xs) var(--space-sm);
  }
  
  /* Réduire les animations sur mobile pour les performances */
  .fiche-col .info-row {
    animation: none;
  }
  
  .fiche-col .fiche-info::before {
    animation-duration: 4s;
  }
  
  .fiche-col .info-value {
    animation-duration: 5s;
  }
  
  .fiche-col .montant-principal {
    animation-duration: 4s;
  }
}